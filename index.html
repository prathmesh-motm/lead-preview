<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Lead Preview</title>

<style>
body {
  font-family: Arial;
  background:#f8fafc;
  padding:30px;
}
table {
  width:100%;
  border-collapse:collapse;
  background:white;
}
th, td {
  padding:12px;
  border:1px solid #e5e7eb;
  text-align:left;
}
th {
  background:#f1f5f9;
}
.badge {
  padding:4px 10px;
  border-radius:12px;
  font-size:12px;
}
.low {
  background:#fee2e2;
  color:#b91c1c;
}
</style>
</head>

<body>

<h2>Lead Preview</h2>

<table id="leadTable">
<thead>
<tr>
  <th>#</th>
  <th>Name</th>
  <th>Address</th>
  <th>Phone</th>
  <th>Website</th>
  <th>Quality</th>
</tr>
</thead>
<tbody></tbody>
</table>

<script>
const WEBHOOK_URL = "https://prathmesh2025.app.n8n.cloud/webhook-test/0a0d6d70-f04b-402b-ba22-cf595e5205d6";

fetch(WEBHOOK_URL)
  .then(res => res.json())
  .then(data => {
    const tbody = document.querySelector("#leadTable tbody");

    data.forEach((lead, index) => {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${index + 1}</td>
        <td>${lead.name}</td>
        <td>${lead.address}</td>
        <td>${lead.phone}</td>
        <td>${lead.website ? `<a href="${lead.website}" target="_blank">${lead.website}</a>` : "-"}</td>
        <td><span class="badge low">${lead["confidence / quality"]}</span></td>
      `;
      tbody.appendChild(row);
    });
  })
  .catch(err => {
    document.body.innerHTML = "<h3>Failed to load data</h3>";
  });
</script>

</body>
</html>
